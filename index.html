<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Assistant Development Company</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        neon: {
                            green: '#00ff88',
                            purple: '#8b5cf6',
                            blue: '#06b6d4',
                        },
                        dark: {
                            900: '#0a0a0a',
                            800: '#1a1a1a',
                            700: '#2a2a2a',
                            600: '#3a3a3a',
                        }
                    },
                    animation: {
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        glow: {
                            '0%': { boxShadow: '0 0 5px #00ff88, 0 0 10px #00ff88, 0 0 15px #00ff88' },
                            '100%': { boxShadow: '0 0 10px #00ff88, 0 0 20px #00ff88, 0 0 30px #00ff88' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                },
            },
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        
        .neon-text {
            background: linear-gradient(45deg, #00ff88, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        
        .neon-glow {
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hover-scale:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
            transition: box-shadow 0.3s ease;
        }
        
        .parallax-bg {
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        
        .chat-message {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .typing-indicator::after {
            content: '|';
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .live-pulse {
            animation: livePulse 2s ease-in-out infinite;
        }

        @keyframes livePulse {
            0%, 100% { 
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(0, 255, 136, 0.7);
            }
            50% { 
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(0, 255, 136, 0);
            }
        }

        .metric-counter { animation: countUp 0.5s ease-out; }
        @keyframes countUp { from { transform: scale(1.2); } to { transform: scale(1); } }

        .success-flash { animation: successFlash 0.6s ease-out; }
        @keyframes successFlash { 0% { background-color: rgba(0, 255, 136, 0.3); } 100% { background-color: transparent; } }

        .live-indicator { position: relative; overflow: hidden; }
        .live-indicator::before {
            content: '';
            position: absolute;
            top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.4), transparent);
            animation: liveSweep 3s infinite;
        }
        @keyframes liveSweep { 0% { left: -100%; } 100% { left: 100%; } }

        .logo-glow { animation: logoGlow 3s ease-in-out infinite alternate; }
        @keyframes logoGlow { 0% { box-shadow: 0 0 10px rgba(0,255,136,.5), 0 0 20px rgba(0,255,136,.3);} 100% { box-shadow: 0 0 20px rgba(0,255,136,.8), 0 0 40px rgba(0,255,136,.5);} }

        .header-blur { backdrop-filter: blur(20px); background: rgba(10,10,10,0.8); }
        .contact-hover:hover { transform: translateY(-2px); transition: all .3s ease; }
    </style>
</head>
<body class="bg-dark-900 text-white overflow-x-hidden">
    
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 header-blur border-b border-white/10">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <div class="w-12 h-12 bg-gradient-to-r from-neon-green to-neon-blue rounded-xl flex items-center justify-center logo-glow">
                            <span class="text-2xl font-bold text-dark-900">E</span>
                        </div>
                        <div class="absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold neon-text">EroffProd</h1>
                        <p class="text-xs text-gray-400">AI Solutions</p>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <div class="flex items-center space-x-2 contact-hover">
                        <div class="w-8 h-8 bg-neon-green/20 rounded-full flex items-center justify-center">
                            <span class="text-sm">📱</span>
                        </div>
                        <a href="tel:+79272550532" class="text-gray-300 hover:text-neon-green transition-colors text-sm">+7 (927) 255-05-32</a>
                    </div>
                    <div class="flex items-center space-x-2 contact-hover">
                        <div class="w-8 h-8 bg-neon-blue/20 rounded-full flex items-center justify-center">
                            <span class="text-sm">📧</span>
                        </div>
                        <a href="mailto:Eroffprod@gmail.com" class="text-gray-300 hover:text-neon-blue transition-colors text-sm">Eroffprod@gmail.com</a>
                    </div>
                    <div class="flex items-center space-x-3">
                        <a href="https://wa.me/79272550532" target="_blank" class="w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform neon-glow" aria-label="WhatsApp">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/whatsapp.svg" alt="WhatsApp" class="w-5 h-5 invert"/>
                        </a>
                        <a href="https://t.me/EroffProd" target="_blank" class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform neon-glow" aria-label="Telegram">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/telegram.svg" alt="Telegram" class="w-5 h-5 invert"/>
                        </a>
                    </div>
                </div>
                <div class="md:hidden flex items-center space-x-2">
                    <a href="https://wa.me/79272550532" target="_blank" class="w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform" aria-label="WhatsApp">
                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/whatsapp.svg" alt="WhatsApp" class="w-5 h-5 invert"/>
                    </a>
                    <a href="https://t.me/EroffProd" target="_blank" class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform" aria-label="Telegram">
                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/telegram.svg" alt="Telegram" class="w-5 h-5 invert"/>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20">
        <div class="absolute inset-0">
            <div class="absolute w-96 h-96 bg-neon-green/10 rounded-full blur-3xl animate-float" style="left: 20%; top: 20%;"></div>
            <div class="absolute w-64 h-64 bg-neon-purple/10 rounded-full blur-3xl animate-float" style="right: 20%; top: 30%; animation-delay: 1s;"></div>
            <div class="absolute w-80 h-80 bg-neon-blue/10 rounded-full blur-3xl animate-float" style="left: 20%; bottom: 30%; animation-delay: 2s;"></div>
        </div>
        <div class="absolute inset-0 opacity-20">
            <div class="absolute inset-0" style="background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0); background-size: 50px 50px;"></div>
        </div>
        <div class="relative z-10 text-center px-4 max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-bold mb-6 neon-text fade-in">Создаём AI-ассистентов для бизнеса 🚀</h1>
            <p class="text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed fade-in" style="animation-delay: .2s;">Под ваши задачи: продажи, поддержка клиентов, аналитика, автоматизация процессов</p>
            <div class="fade-in" style="animation-delay: .4s;">
                <a href="https://wa.me/79272550532?text=Здравствуйте!%20Хочу%20получить%20демо" target="_blank" class="group relative inline-block px-8 py-4 bg-gradient-to-r from-neon-green to-neon-blue text-dark-900 font-bold text-lg rounded-full overflow-hidden transition-all duration-300 hover:scale-105 neon-glow hover-glow">
                    <span class="relative z-10">Получить демо</span>
                    <div class="absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                </a>
            </div>
            <!-- Centered scroll indicator under the button -->
            <div class="mt-10 flex justify-center fade-in" style="animation-delay: .8s;">
            <div class="w-6 h-10 border-2 border-neon-green rounded-full flex justify-center">
                <div class="w-1 h-3 bg-neon-green rounded-full mt-2 animate-bounce"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Network Visual Section -->
    <section class="py-20 px-4 relative overflow-hidden bg-dark-800/20" id="network">
        <div class="max-w-6xl mx-auto relative">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-4 neon-text">Интеграции и каналы</h2>
                <p class="text-xl text-gray-300">Простой поток: источники → AI → результаты</p>
            </div>

            <!-- Canvas layer for lines/particles -->
            <div class="relative rounded-2xl overflow-hidden glass-effect border border-white/10">
                <canvas id="network-canvas" class="absolute inset-0 w-full h-full"></canvas>

                <!-- Simplified 3-column flow: Sources -> AI -> Outputs -->
                <div class="relative z-10 py-10 px-6">
                    <div class="grid grid-cols-3 gap-6 items-center">
                        <!-- Sources vertical -->
                        <div class="flex flex-col items-center gap-6">
                            <div class="source" title="Instagram — лиды">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors">
                                    <img class="w-7 h-7 channel-icon" alt="Instagram" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/instagram.svg"/>
                                </div>
                                <div class="mt-1 text-xs text-gray-400 text-center">Instagram</div>
                            </div>
                            <div class="source" title="WhatsApp — чаты">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors">
                                    <img class="w-7 h-7 channel-icon" alt="WhatsApp" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/whatsapp.svg"/>
                                </div>
                                <div class="mt-1 text-xs text-gray-400 text-center">WhatsApp</div>
                            </div>
                            <div class="source" title="Telegram — быстрые ответы">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors">
                                    <img class="w-7 h-7 channel-icon" alt="Telegram" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/telegram.svg"/>
                                </div>
                                <div class="mt-1 text-xs text-gray-400 text-center">Telegram</div>
                            </div>
                            <div class="source" title="Avito — заказы">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M6 7h12l1 4v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V11l1-4z"/>
                                        <path d="M9 7V5a3 3 0 0 1 6 0v2"/>
                                    </svg>
                                </div>
                                <div class="mt-1 text-xs text-gray-300 text-center w-full">Avito</div>
                            </div>
                        </div>

                        <!-- AI center -->
                        <div class="flex flex-col items-center">
                            <div id="ai-node" class="relative flex items-center justify-center w-28 h-28 rounded-full bg-white/5 border border-white/10 text-white text-3xl select-none hover:shadow-[0_0_40px_rgba(0,255,136,0.3)] cursor-default">🤖<span class="absolute -top-2 -right-2 px-2 py-1 text-xs rounded-full bg-neon-green/20 text-neon-green border border-neon-green/40 animate-pulse">24/7</span></div>
                            <div class="mt-3 text-sm text-gray-300">AI‑менеджер 24/7</div>
                            <div class="mt-2 flex items-center gap-2 text-[11px] text-gray-300"><span class="px-2 py-1 rounded-full bg-white/5 border border-white/10">Отвечает на любые вопросы</span><span class="px-2 py-1 rounded-full bg-white/5 border border-white/10">Не чатбот</span></div>
                        </div>

                        <!-- Outputs vertical -->
                        <div class="flex flex-col items-center gap-6">
                            <div id="sink-sheets" class="sink relative" title="Таблица — запись заявок">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors mx-auto">
                                    <img class="w-7 h-7 channel-icon" alt="Sheets" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/googlesheets.svg"/>
                                </div>
                                <span class="sink-counter absolute -top-2 right-1 px-1.5 py-0.5 text-[10px] rounded bg-neon-green/20 text-neon-green border border-neon-green/40">0</span>
                                <div class="mt-1 text-xs text-gray-400 text-center">Таблица</div>
                            </div>
                            <div id="sink-alerts" class="sink relative" title="Мессенджер — уведомления о лидах">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-cyan-400/60 transition-colors mx-auto">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M6 8a6 6 0 1 1 12 0c0 7 3 5 3 7H3c0-2 3 0 3-7"/>
                                        <path d="M10 19a2 2 0 0 0 4 0"/>
                                    </svg>
                                </div>
                                <span class="sink-counter absolute -top-2 right-1 px-1.5 py-0.5 text-[10px] rounded bg-neon-blue/20 text-neon-blue border border-neon-blue/40">0</span>
                                <div class="mt-1 text-xs text-gray-300 text-center">Уведомления</div>
                            </div>
                            <div id="sink-crm" class="sink relative" title="CRM — сделки и аналитика">
                                <div class="node w-14 h-14 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center hover:border-orange-400/60 transition-colors mx-auto">
                                    <img class="w-7 h-7 channel-icon" alt="CRM" src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/crunchbase.svg"/>
                                </div>
                                <span class="sink-counter absolute -top-2 right-1 px-1.5 py-0.5 text-[10px] rounded bg-orange-400/20 text-orange-300 border border-orange-300/40">0</span>
                                <div class="mt-1 text-xs text-gray-400 text-center">CRM</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Profit Calculator Section -->
    <section class="py-20 px-4 relative overflow-hidden" id="roi-section">
        <div class="absolute inset-0">
            <div class="absolute top-1/4 left-1/4 w-80 h-80 bg-neon-green/10 rounded-full blur-3xl animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-neon-purple/10 rounded-full blur-3xl animate-float" style="animation-delay: 1.2s;"></div>
        </div>
        <div class="max-w-6xl mx-auto relative z-10">
            <div class="text-center mb-6 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 neon-text">Калькулятор выгоды</h2>
                <p class="text-xl text-gray-300 mb-6">Оцените экономию и дополнительную выручку от AI‑бота</p>
                <button id="roi-toggle" aria-expanded="false" class="inline-flex items-center gap-3 glass-effect px-6 py-3 rounded-full border border-white/10 hover:border-neon-green/40 transition-all">
                    <span class="text-neon-green font-bold">Открыть калькулятор</span>
                    <span id="roi-chevron" class="transition-transform duration-300">▼</span>
                </button>
            </div>

            <div id="roi-panel" class="grid lg:grid-cols-2 gap-8 items-stretch overflow-hidden transition-all duration-500" style="max-height: 0; opacity: 0; transform: translateY(-8px);">
                <!-- Inputs -->
                <div class="relative p-[2px] rounded-2xl bg-gradient-to-br from-white/10 via-white/5 to-white/0">
                    <div class="glass-effect rounded-2xl p-6 h-full">
                        <div class="grid grid-cols-1 gap-6">
                            <div>
                                <label class="block text-sm text-gray-300 mb-2">Лидов в месяц</label>
                                <input id="roi-leads" type="number" min="0" value="500" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-neon-green"/>
                            </div>
                            <div class="grid sm:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm text-gray-300 mb-2">Текущая конверсия, %</label>
                                    <input id="roi-cr" type="number" min="0" max="100" value="5" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-neon-green"/>
                                </div>
                                <div class="flex items-end">
                                    <div class="text-xs text-gray-400">Будем считать по обещаниям: вовлечённость клиентов <span class="text-neon-green font-semibold">+27%</span>, разгрузка поддержки <span class="text-neon-green font-semibold">-40%</span>.</div>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm text-gray-300 mb-2">Средний чек, ₽</label>
                                <input id="roi-aov" type="number" min="0" value="15000" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-neon-green"/>
                            </div>
                            <div class="grid sm:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm text-gray-300 mb-2">Тикетов в поддержку/мес</label>
                                    <input id="roi-tickets" type="number" min="0" value="800" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-neon-green"/>
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-300 mb-2">Стоимость тикета, ₽</label>
                                    <input id="roi-ticket-cost" type="number" min="0" value="120" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-neon-green"/>
                                </div>
                            </div>
                            <div class="pt-2">
                                <a href="https://wa.me/79272550532?text=Здравствуйте!%20Хочу%20обсудить%20калькулятор%20выгоды" target="_blank" class="inline-block px-6 py-3 border-2 border-neon-green text-neon-green font-bold rounded-full hover:bg-neon-green hover:text-dark-900 transition-all">Обсудить расчёт</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Results -->
                <div class="relative p-[2px] rounded-2xl bg-gradient-to-br from-white/10 via-white/5 to-white/0">
                    <div class="glass-effect rounded-2xl p-6 h-full flex flex-col">
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                            <div class="rounded-xl bg-dark-700/40 p-5 border border-white/5 text-center">
                                <div class="text-sm text-gray-400 mb-1">Доп. выручка/мес</div>
                                <div id="roi-extra-revenue" class="text-4xl font-extrabold neon-text">₽0</div>
                            </div>
                            <div class="rounded-xl bg-dark-700/40 p-5 border border-white/5 text-center">
                                <div class="text-sm text-gray-400 mb-1">Экономия поддержки</div>
                                <div id="roi-support-saved" class="text-4xl font-extrabold neon-text">₽0</div>
                            </div>
                            <div class="rounded-xl bg-dark-700/40 p-5 border border-white/5 text-center">
                                <div class="text-sm text-gray-400 mb-1">Вовлечённость клиентов</div>
                                <div id="roi-engagement" class="text-4xl font-extrabold neon-text">+27%</div>
                            </div>
                            <div class="rounded-xl bg-dark-700/40 p-5 border border-white/5 text-center">
                                <div class="text-sm text-gray-400 mb-1">Итоговая выгода</div>
                                <div id="roi-total" class="text-4xl font-extrabold neon-text">₽0</div>
                            </div>
                        </div>
                        <div class="mt-auto text-center">
                            <a href="https://wa.me/79272550532?text=Здравствуйте!%20Хочу%20AI%20бота%20после%20расчёта%20выгоды" target="_blank" class="group relative inline-block px-10 py-4 bg-gradient-to-r from-neon-green to-neon-blue text-dark-900 font-bold text-lg rounded-full overflow-hidden transition-all duration-300 hover:scale-105 neon-glow hover-glow">
                                <span class="relative z-10">Получить точный расчёт</span>
                                <div class="absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Assistants Showcase (unchanged from your original) -->
    <section class="py-20 px-4 relative overflow-hidden">
        <div class="absolute inset-0">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-neon-green/5 rounded-full blur-3xl animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-neon-purple/5 rounded-full blur-3xl animate-float" style="animation-delay: 2s;"></div>
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-neon-blue/5 rounded-full blur-3xl animate-float" style="animation-delay: 4s;"></div>
        </div>
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl md:text-6xl font-bold mb-6 neon-text">🤖 НАШИ AI-АССИСТЕНТЫ</h2>
                <p class="text-2xl text-gray-300 mb-4">Готовые решения для вашего бизнеса</p>
                <div class="inline-flex items-center px-6 py-3 bg-neon-green/10 rounded-full border border-neon-green/30 live-indicator">
                    <div class="w-3 h-3 bg-neon-green rounded-full mr-3 animate-pulse live-pulse"></div>
                    <span class="text-neon-green font-bold">РАБОТАЮТ ПРЯМО СЕЙЧАС</span>
                </div>
            </div>
            <!-- Grid of three bots (kept exactly as original from your message) -->
            <!-- START original three bot cards -->
            <div class="grid lg:grid-cols-3 gap-8 mb-12">
                <!-- Sales Bot -->
                <div class="glass-effect rounded-2xl p-6 fade-in hover-scale flex flex-col">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <div class="w-16 h-16 bg-gradient-to-r from-neon-green to-neon-blue rounded-full flex items-center justify-center mr-4"><span class="text-3xl">💰</span></div>
                            <div>
                                <h3 class="text-xl font-bold">AI Sales Bot</h3>
                                <div class="flex items-center"><div class="w-2 h-2 bg-neon-green rounded-full mr-2 animate-pulse"></div><span class="text-sm text-gray-400">Обрабатывает заявки</span></div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-2xl font-bold neon-text metric-counter" id="sales-bot-conversions">+47%</div>
                            <div class="text-sm text-gray-400">конверсия</div>
                        </div>
                    </div>
                    <div class="space-y-4 mb-6 max-h-64 overflow-y-auto flex-1" id="sales-bot-chat">
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-green/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">Привет! Вижу заявку на сайт-визитку. Какой у вас бюджет?</p><div class="text-xs text-gray-400 mt-2">2 сек назад</div></div></div>
                        <div class="flex items-start justify-end"><div class="bg-gradient-to-r from-neon-green to-neon-blue rounded-lg p-4 max-w-md"><p class="text-dark-900">До 100 тысяч рублей</p></div><div class="w-8 h-8 bg-neon-green/20 rounded-full flex items-center justify-center ml-3"><span class="text-sm">👤</span></div></div>
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-green/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">Отлично! Рассчитал стоимость: 85,000₽ за полный пакет. Хотите посмотреть примеры работ?</p><div class="text-xs text-gray-400 mt-2">только что</div></div></div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 pt-4 border-t border-gray-700">
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="sales-bot-leads">156</div><div class="text-xs text-gray-400">лидов сегодня</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="sales-bot-deals">23</div><div class="text-xs text-gray-400">сделок закрыто</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="sales-bot-revenue">₽1.9М</div><div class="text-xs text-gray-400">выручка</div></div>
                    </div>
                </div>
                <!-- Support Bot -->
                <div class="glass-effect rounded-2xl p-6 fade-in hover-scale flex flex-col" style="animation-delay: .2s;">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <div class="w-16 h-16 bg-gradient-to-r from-neon-blue to-neon-purple rounded-full flex items-center justify-center mr-4"><span class="text-3xl">🛠️</span></div>
                            <div>
                                <h3 class="text-xl font-bold">AI Support Bot</h3>
                                <div class="flex items-center"><div class="w-2 h-2 bg-neon-blue rounded-full mr-2 animate-pulse"></div><span class="text-sm text-gray-400">Решает проблемы</span></div>
                            </div>
                        </div>
                        <div class="text-right flex flex-col items-end leading-none">
                            <div class="text-2xl font-bold neon-text metric-counter" id="support-bot-satisfaction">94%</div>
                            <div class="text-sm text-gray-400 mt-1">удовлетворенность</div>
                        </div>
                    </div>
                    <div class="space-y-4 mb-6 max-h-64 overflow-y-auto flex-1" id="support-bot-chat">
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-blue/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">Привет! Вижу, что у вас проблема с авторизацией. Проверяю ваш аккаунт...</p><div class="text-xs text-gray-400 mt-2">1 сек назад</div></div></div>
                        <div class="flex items-start justify-end"><div class="bg-gradient-to-r from-neon-blue to-neon-purple rounded-lg p-4 max-w-md"><p class="text-dark-900">Да, не могу войти в систему</p></div><div class="w-8 h-8 bg-neon-blue/20 rounded-full flex items-center justify-center ml-3"><span class="text-sm">👤</span></div></div>
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-blue/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">Нашёл проблему! Отправил ссылку для сброса пароля на ваш email. Проверьте почту.</p><div class="text-xs text-gray-400 mt-2">только что</div></div></div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 pt-4 border-t border-gray-700">
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="support-bot-tickets">89</div><div class="text-xs text-gray-400">тикетов решено</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="support-bot-time">2.3мин</div><div class="text-xs text-gray-400">среднее время</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="support-bot-saved">₽45К</div><div class="text-xs text-gray-400">экономия</div></div>
                    </div>
                </div>
                <!-- Analytics Bot -->
                <div class="glass-effect rounded-2xl p-6 fade-in hover-scale flex flex-col" style="animation-delay: .4s;">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center">
                            <div class="w-16 h-16 bg-gradient-to-r from-neon-purple to-neon-green rounded-full flex items-center justify-center mr-4"><span class="text-3xl">📊</span></div>
                            <div>
                                <h3 class="text-xl font-bold">AI Analytics Bot</h3>
                                <div class="flex items-center"><div class="w-2 h-2 bg-neon-purple rounded-full mr-2 animate-pulse"></div><span class="text-sm text-gray-400">Анализирует данные</span></div>
                            </div>
                        </div>
                        <div class="text-right flex flex-col items-end leading-none">
                            <div class="text-2xl font-bold neon-text metric-counter" id="analytics-bot-insights">127</div>
                            <div class="text-sm text-gray-400 mt-1">инсайтов</div>
                        </div>
                    </div>
                    <div class="space-y-4 mb-6 max-h-64 overflow-y-auto flex-1" id="analytics-bot-chat">
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-purple/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">Анализирую ваши продажи за неделю. Вижу аномалию в данных...</p><div class="text-xs text-gray-400 mt-2">3 сек назад</div></div></div>
                        <div class="flex items-start justify-end"><div class="bg-gradient-to-r from-neon-purple to-neon-green rounded-lg p-4 max-w-md"><p class="text-dark-900">Какие именно аномалии?</p></div><div class="w-8 h-8 bg-neon-purple/20 rounded-full flex items-center justify-center ml-3"><span class="text-sm">👤</span></div></div>
                        <div class="flex items-start"><div class="w-8 h-8 bg-neon-purple/20 rounded-full flex items-center justify-center mr-3"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">В четверг продажи упали на 23%. Причина: конкурент запустил акцию. Рекомендую ответную стратегию.</p><div class="text-xs text-gray-400 mt-2">только что</div></div></div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 pt-4 border-t border-gray-700">
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="analytics-bot-reports">34</div><div class="text-xs text-gray-400">отчётов создано</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="analytics-bot-predictions">89%</div><div class="text-xs text-gray-400">точность прогнозов</div></div>
                        <div class="text-center"><div class="text-lg font-bold neon-text metric-counter" id="analytics-bot-roi">+156%</div><div class="text-xs text-gray-400">рост прибыли</div></div>
                    </div>
                </div>
            </div>
            <!-- Live Activity Feed and CTA kept from original -->
            <div class="glass-effect rounded-2xl p-8 fade-in hover-scale">
                <h3 class="text-2xl font-bold mb-6 neon-text text-center">🔥 ЧТО ПРОИСХОДИТ СЕЙЧАС</h3>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="space-y-3"><h4 class="text-lg font-bold text-neon-green">💰 Sales Bot</h4><div class="space-y-2" id="sales-activity"><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-green rounded-full mr-3 animate-pulse"></div><span class="text-gray-300">Новая заявка на сайт</span><span class="text-neon-green ml-auto">+1</span></div><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-green rounded-full mr-3 animate-pulse" style="animation-delay: .5s;"></div><span class="text-gray-300">Рассчитал стоимость проекта</span><span class="text-neon-green ml-auto">+1</span></div></div></div>
                    <div class="space-y-3"><h4 class="text-lg font-bold text-neon-blue">🛠️ Support Bot</h4><div class="space-y-2" id="support-activity"><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-blue rounded-full mr-3 animate-pulse"></div><span class="text-gray-300">Решил проблему с доступом</span><span class="text-neon-blue ml-auto">+1</span></div><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-blue rounded-full mr-3 animate-pulse" style="animation-delay: .5s;"></div><span class="text-gray-300">Отправил инструкцию</span><span class="text-neon-blue ml-auto">+1</span></div></div></div>
                    <div class="space-y-3"><h4 class="text-lg font-bold text-neon-purple">📊 Analytics Bot</h4><div class="space-y-2" id="analytics-activity"><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-purple rounded-full mr-3 animate-pulse"></div><span class="text-gray-300">Обнаружил тренд роста</span><span class="text-neon-purple ml-auto">+1</span></div><div class="flex items-center text-sm"><div class="w-2 h-2 bg-neon-purple rounded-full mr-3 animate-pulse" style="animation-delay: .5s;"></div><span class="text-gray-300">Создал прогноз на месяц</span><span class="text-neon-purple ml-auto">+1</span></div></div></div>
                </div>
            </div>
            <div class="text-center mt-12 fade-in">
                <div class="glass-effect rounded-2xl p-8 max-w-4xl mx-auto">
                    <h3 class="text-3xl font-bold mb-4 neon-text">Какой AI-ассистент нужен вашему бизнесу?</h3>
                    <p class="text-xl text-gray-300 mb-6">Выберите готовое решение или создадим индивидуального ассистента под ваши задачи</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <a href="https://wa.me/79272550532?text=Здравствуйте!%20Хочу%20выбрать%20готового%20ассистента" target="_blank" class="px-8 py-4 bg-gradient-to-r from-neon-green to-neon-blue text-dark-900 font-bold text-lg rounded-full hover:scale-105 transition-transform neon-glow">Выбрать готового ассистента</a>
                        <a href="https://wa.me/79272550532?text=Здравствуйте!%20Нужен%20индивидуальный%20ассистент" target="_blank" class="px-8 py-4 border-2 border-neon-green text-neon-green font-bold text-lg rounded-full transition-all hover:bg-neon-green hover:text-dark-900 hover:shadow-[0_0_25px_rgba(0,255,136,0.5)]">Создать индивидуального</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Steps Section (unchanged) -->
    <section class="py-20 px-4 bg-dark-800/30">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 neon-text">Как это работает</h2>
                <p class="text-xl text-gray-300">Простой процесс создания AI-ассистента для вашего бизнеса</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="group relative fade-in hover-scale">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center hover:border-neon-green/50 transition-all duration-300">
                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2"><div class="w-8 h-8 bg-gradient-to-r from-neon-green to-neon-blue rounded-full flex items-center justify-center text-dark-900 font-bold">1</div></div>
                        <div class="text-6xl mb-6">🧠</div>
                        <h3 class="text-2xl font-bold mb-4 text-white group-hover:text-neon-green transition-colors">Анализ потребностей</h3>
                        <p class="text-gray-300 leading-relaxed">Изучаем ваши бизнес-процессы и определяем оптимальные точки внедрения AI</p>
                    </div>
                </div>
                <div class="group relative fade-in hover-scale" style="animation-delay: .2s;">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center hover:border-neon-green/50 transition-all duration-300">
                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2"><div class="w-8 h-8 bg-gradient-to-r from-neon-green to-neon-blue rounded-full flex items-center justify-center text-dark-900 font-bold">2</div></div>
                        <div class="text-6xl mb-6">⚡</div>
                        <h3 class="text-2xl font-bold mb-4 text-white group-hover:text-neon-green transition-colors">Прототип 1–2 недели</h3>
                        <p class="text-gray-300 leading-relaxed">Быстро создаём рабочий прототип для тестирования концепции</p>
                    </div>
                </div>
                <div class="group relative fade-in hover-scale" style="animation-delay: .4s;">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center hover:border-neon-green/50 transition-all duration-300">
                        <div class="absolute -top-4 left-1/2 transform -translate-x-1/2"><div class="w-8 h-8 bg-gradient-to-r from-neon-green to-neon-blue rounded-full flex items-center justify-center text-dark-900 font-bold">3</div></div>
                        <div class="text-6xl mb-6">🚀</div>
                        <h3 class="text-2xl font-bold mb-4 text-white group-hover:text-neon-green transition-colors">Запуск и улучшения</h3>
                        <p class="text-gray-300 leading-relaxed">Внедряем решение и постоянно оптимизируем на основе данных</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cases Section REWORKED to match site style (no gradients, glass cards) -->
    <section class="py-20 px-4 relative overflow-hidden">
        <div class="absolute inset-0">
            <div class="absolute top-1/4 left-1/4 w-32 h-32 bg-neon-green/5 rounded-full blur-xl animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-40 h-40 bg-neon-purple/5 rounded-full blur-xl animate-float" style="animation-delay: 1s;"></div>
        </div>
        <div class="max-w-6xl mx-auto relative z-10">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 neon-text">Результаты наших решений</h2>
                <p class="text-xl text-gray-300">Реальные кейсы и достижения наших клиентов</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Sales -->
                <div class="group relative fade-in hover-scale">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center border border-white/10 transition-all duration-300 overflow-hidden hover:shadow-[0_0_40px_rgba(0,255,136,0.15)] relative">
                        <div class="pointer-events-none absolute -top-1/2 left-0 w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" style="background: radial-gradient(140px 70px at 50% 0%, rgba(255,255,255,.10), transparent 70%);"></div>
                        <div class="text-6xl mb-4">📞</div>
                        <div class="text-4xl font-extrabold mb-2 neon-text">
                            <span data-live data-type="int" data-value="14" data-min="14" data-max="45" data-step="1" data-dir="up" data-int-min="3000" data-int-max="6000">14</span>
                        </div>
                        <h3 class="text-xl font-bold mb-3 text-white">Продажи</h3>
                        <p class="text-gray-300">рост конверсии</p>
                    </div>
                </div>
                <!-- Support -->
                <div class="group relative fade-in hover-scale" style="animation-delay: .2s;">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center border border-white/10 transition-all duration-300 overflow-hidden hover:shadow-[0_0_40px_rgba(99,102,241,0.15)] relative">
                        <div class="pointer-events-none absolute -top-1/2 left-0 w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" style="background: radial-gradient(140px 70px at 50% 0%, rgba(255,255,255,.10), transparent 70%);"></div>
                        <div class="text-6xl mb-4">💬</div>
                        <div class="text-4xl font-extrabold mb-2 neon-text">
                            <span data-live data-type="percent" data-value="-40" data-min="-60" data-max="-40" data-step="1" data-dir="down" data-int-min="3000" data-int-max="6000">-40%</span>
                        </div>
                        <h3 class="text-xl font-bold mb-3 text-white">Поддержка</h3>
                        <p class="text-gray-300">меньше нагрузки</p>
                    </div>
                </div>
                <!-- Analytics -->
                <div class="group relative fade-in hover-scale" style="animation-delay: .4s;">
                    <div class="glass-effect rounded-2xl p-8 h-full text-center border border-white/10 transition-all duration-300 overflow-hidden hover:shadow-[0_0_40px_rgba(139,92,246,0.15)] relative">
                        <div class="pointer-events-none absolute -top-1/2 left-0 w-full h-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" style="background: radial-gradient(140px 70px at 50% 0%, rgba(255,255,255,.10), transparent 70%);"></div>
                        <div class="text-6xl mb-4">📊</div>
                        <div class="text-4xl font-extrabold mb-2 neon-text">
                            <span data-live data-type="percent" data-value="80" data-min="80" data-max="92" data-step="1" data-dir="up" data-int-min="3000" data-int-max="6000">80%</span>
                        </div>
                        <h3 class="text-xl font-bold mb-3 text-white">Аналитика</h3>
                        <p class="text-gray-300">автоматизации</p>
                    </div>
                </div>
            </div>
            <div class="mt-16 text-center fade-in" style="animation-delay: .6s;">
                <div class="glass-effect rounded-2xl p-8 max-w-4xl mx-auto">
                    <div class="grid md:grid-cols-3 gap-8">
                        <div><div class="text-3xl font-bold neon-text mb-2">50+</div><div class="text-gray-300">Успешных проектов</div></div>
                        <div><div class="text-3xl font-bold neon-text mb-2">95%</div><div class="text-gray-300">Довольных клиентов</div></div>
                        <div><div class="text-3xl font-bold neon-text mb-2">24/7</div><div class="text-gray-300">Техподдержка</div></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section REWORKED to match site style (no gradients) -->
    <section class="py-20 px-4 bg-dark-800/20">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 neon-text">Преимущества AI-ассистентов</h2>
                <p class="text-xl text-gray-300">Почему стоит выбрать наше решение для вашего бизнеса</p>
            </div>

            <div class="grid md:grid-cols-3 gap-8">
                <!-- KPI card -->
                <div class="relative group fade-in hover-scale">
                    <div class="relative p-[2px] rounded-2xl bg-gradient-to-br from-white/10 via-white/5 to-white/0 group-hover:from-neon-green/30 group-hover:via-neon-blue/20 group-hover:to-neon-purple/10 transition-all duration-500 h-full">
                        <div class="glass-effect rounded-2xl h-full min-h-[300px] p-8 overflow-hidden relative flex flex-col">
                            <div class="absolute -top-12 -left-12 w-56 h-56 bg-neon-green/10 blur-3xl rounded-full pointer-events-none"></div>
                            <div class="absolute -bottom-12 -right-12 w-64 h-64 bg-neon-blue/10 blur-3xl rounded-full pointer-events-none"></div>

                            <div class="flex items-start justify-between mb-6">
                                <div class="text-5xl">📈</div>
                                <span class="px-3 py-1 text-xs rounded-full bg-white/5 border border-white/10 text-gray-300">KPI</span>
                            </div>

                            <h3 class="text-2xl font-bold text-white mb-2 leading-tight break-words">Рост KPI</h3>
                            <p class="text-gray-300 mb-6">Повышаем ключевые показатели эффективности</p>

                            <div class="grid grid-cols-3 gap-3 text-center">
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="percent" data-value="12" data-min="12" data-max="28" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">12%</span></div>
                                        <div class="text-xs text-gray-400">CR</div>
                                    </div>
                                </div>
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="percent" data-value="9" data-min="9" data-max="22" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">9%</span></div>
                                        <div class="text-xs text-gray-400">LTV</div>
                                    </div>
                                </div>
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="int" data-value="2" data-min="2" data-max="4" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">2</span>x</div>
                                        <div class="text-xs text-gray-400">ROI</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Time card -->
                <div class="relative group fade-in hover-scale" style="animation-delay: .15s;">
                    <div class="relative p-[2px] rounded-2xl bg-gradient-to-br from-white/10 via-white/5 to-white/0 group-hover:from-neon-blue/30 group-hover:via-neon-purple/20 group-hover:to-neon-green/10 transition-all duration-500 h-full">
                        <div class="glass-effect rounded-2xl h-full min-h-[300px] p-8 overflow-hidden relative flex flex-col">
                            <div class="absolute -top-12 -left-12 w-56 h-56 bg-neon-blue/10 blur-3xl rounded-full pointer-events-none"></div>
                            <div class="absolute -bottom-12 -right-12 w-64 h-64 bg-neon-purple/10 blur-3xl rounded-full pointer-events-none"></div>

                            <div class="flex items-start justify-between mb-6">
                                <div class="text-5xl">⏱</div>
                                <span class="px-3 py-1 text-xs rounded-full bg-white/5 border border-white/10 text-gray-300">AUTOPILOT</span>
                            </div>

                            <h3 class="text-2xl font-bold text-white mb-2 leading-tight break-words">Экономия времени</h3>
                            <p class="text-gray-300 mb-6">Автоматизируем рутинные процессы</p>

                            <div class="grid grid-cols-3 gap-3 text-center">
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="percent" data-value="18" data-min="15" data-max="35" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">18%</span></div>
                                        <div class="text-xs text-gray-400">AHT ↓</div>
                                    </div>
                                </div>
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="int" data-value="24" data-min="24" data-max="40" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">24</span>/7</div>
                                        <div class="text-xs text-gray-400">Онлайн</div>
                                    </div>
                                </div>
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text leading-none">AI</div>
                                        <div class="text-xs text-gray-400 leading-tight break-words whitespace-normal text-center">Автосценарии</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Custom card -->
                <div class="relative group fade-in hover-scale" style="animation-delay: .3s;">
                    <div class="relative p-[2px] rounded-2xl bg-gradient-to-br from-white/10 via-white/5 to-white/0 group-hover:from-neon-purple/30 group-hover:via-neon-green/20 group-hover:to-neon-blue/10 transition-all duration-500 h-full">
                        <div class="glass-effect rounded-2xl h-full min-h-[300px] p-8 overflow-hidden relative flex flex-col">
                            <div class="absolute -top-12 -left-12 w-56 h-56 bg-neon-purple/10 blur-3xl rounded-full pointer-events-none"></div>
                            <div class="absolute -bottom-12 -right-12 w-64 h-64 bg-neon-green/10 blur-3xl rounded-full pointer-events-none"></div>

                            <div class="flex items-start justify-between mb-6">
                                <div class="text-5xl">🎯</div>
                                <span class="px-3 py-1 text-xs rounded-full bg-white/5 border border-white/10 text-gray-300">CUSTOM FIT</span>
                            </div>

                            <h3 class="text-2xl font-bold text-white mb-2 leading-tight break-words">Настройка под процессы</h3>
                            <p class="text-gray-300 mb-6">Адаптируем решение под ваши задачи</p>

                            <div class="grid grid-cols-2 gap-3 text-center">
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text"><span data-live data-type="int" data-value="30" data-min="30" data-max="50" data-step="1" data-dir="up" data-int-min="2500" data-int-max="5000">30</span>+</div>
                                        <div class="text-xs text-gray-400">Интеграций</div>
                                    </div>
                                </div>
                                <div class="rounded-xl bg-dark-700/40 p-3 border border-white/5">
                                    <div class="flex flex-col items-center justify-center h-20">
                                        <div class="text-lg font-bold neon-text">97%</div>
                                        <div class="text-xs text-gray-400">Точность NER</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section (unchanged) -->
    <section class="py-20 px-4 relative overflow-hidden">
        <div class="absolute inset-0">
            <div class="absolute топ-1/4 left-1/4 w-64 h-64 bg-neon-green/10 rounded-full blur-3xl animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-neon-purple/10 rounded-full blur-3xl animate-float" style="animation-delay: 1s;"></div>
        </div>
        <div class="max-w-4xl mx-auto text-center relative z-10">
            <div class="fade-in">
                <h2 class="text-4xl md:text-6xl font-bold mb-8 neon-text">Хотите AI-ассистента для бизнеса?</h2>
                <div class="mb-12 fade-in" style="animation-delay: .2s;">
                    <a href="https://wa.me/79272550532?text=Здравствуйте!%20Хочу%20начать%20проект" target="_blank" class="group relative inline-block px-12 py-6 bg-gradient-to-r from-neon-green to-neon-blue text-dark-900 font-bold text-2xl rounded-full overflow-hidden transition-all duration-300 hover:scale-110 neon-glow hover-glow"><span class="relative z-10">Начать проект</span><div class="absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></a>
                </div>
                <div class="flex justify-center items-center space-x-8 text-gray-400 fade-in" style="animation-delay: .4s;">
                    <div class="flex items-center"><div class="w-2 h-2 bg-neon-green rounded-full mr-2 animate-pulse"></div><span>Бесплатная консультация</span></div>
                    <div class="flex items-center"><div class="w-2 h-2 bg-neon-blue rounded-full mr-2 animate-pulse" style="animation-delay: .5s;"></div><span>Быстрый старт</span></div>
                    <div class="flex items-center"><div class="w-2 h-2 bg-neon-purple rounded-full mr-2 animate-pulse" style="animation-delay: 1s;"></div><span>Гарантия результата</span></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section (unchanged) -->
    <section class="py-20 px-4 bg-dark-800/30">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 neon-text">Свяжитесь с нами</h2>
                <p class="text-xl text-gray-300">Оставьте заявку и мы свяжемся с вами в течение 24 часов</p>
            </div>
            <div class="glass-effect rounded-2xl p-8 fade-in">
                <form class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div><label class="block text-sm font-medium text-gray-300 mb-2">Имя <span class="text-neon-green">*</span></label><input type="text" required class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-neon-green transition-colors" placeholder="Введите имя..."></div>
                        <div><label class="block text-sm font-medium text-gray-300 mb-2">Компания <span class="text-neon-green">*</span></label><input type="text" required class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-neon-green transition-colors" placeholder="Введите компанию..."></div>
                        <div><label class="block text-sm font-medium text-gray-300 mb-2">Email <span class="text-neon-green">*</span></label><input type="email" required class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-neon-green transition-colors" placeholder="Введите email..."></div>
                        <div><label class="block text-sm font-medium text-gray-300 mb-2">Телефон</label><input type="tel" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-neon-green transition-colors" placeholder="Введите телефон..."></div>
                    </div>
                    <div><label class="block text-sm font-medium text-gray-300 mb-2">Комментарий</label><textarea rows="4" class="w-full bg-dark-700/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:border-neon-green transition-colors resize-none" placeholder="Расскажите о ваших задачах и требованиях..."></textarea></div>
                    <div class="text-center pt-4"><a href="mailto:Eroffprod@gmail.com?subject=Заявка%20с%20сайта&body=Здравствуйте!%20Хочу%20обсудить%20проект." class="group relative inline-block px-12 py-4 bg-gradient-to-r from-neon-green to-neon-blue text-dark-900 font-bold text-lg rounded-full overflow-hidden transition-all duration-300 neon-glow hover-glow hover:scale-105"><span class="relative z-10">Отправить заявку</span><div class="absolute inset-0 bg-gradient-to-r from-neon-blue to-neon-purple opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div></a></div>
                </form>
                <div class="mt-12 pt-8 border-t border-gray-700">
                    <div class="grid md:grid-cols-3 gap-8 text-center">
                        <div><div class="text-2xl mb-2">📧</div><div class="text-gray-300">Eroffprod@gmail.com</div></div>
                        <div><div class="text-2xl mb-2">📱</div><div class="text-gray-300">+7 (927) 255-05-32</div></div>
                        <div><div class="text-2xl mb-2">⏰</div><div class="text-gray-300">Пн-Пт 9:00-18:00</div></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (unchanged) -->
    <footer class="py-8 px-4 bg-dark-800/50 border-t border-gray-700">
        <div class="max-w-6xl mx-auto">
            <div class="flex flex-col md:flex-row items-center justify-between">
                <div class="flex items-center space-x-3 mb-4 md:mb-0">
                    <div class="w-10 h-10 bg-gradient-to-r from-neon-green to-neon-blue rounded-lg flex items-center justify-center logo-glow"><span class="text-lg font-bold text-dark-900">E</span></div>
                    <div><h3 class="text-lg font-bold neon-text">EroffProd</h3><p class="text-xs text-gray-400">AI Solutions для бизнеса</p></div>
                </div>
                <div class="flex items-center space-x-6">
                    <a href="https://wa.me/79272550532" target="_blank" class="w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform" aria-label="WhatsApp">
                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/whatsapp.svg" alt="WhatsApp" class="w-5 h-5 invert"/>
                    </a>
                    <a href="https://t.me/EroffProd" target="_blank" class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center hover:scale-110 transition-transform" aria-label="Telegram">
                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/telegram.svg" alt="Telegram" class="w-5 h-5 invert"/>
                    </a>
                    <a href="mailto:Eroffprod@gmail.com" class="w-10 h-10 bg-gradient-to-r from-neon-purple to-neon-green rounded-full flex items-center justify-center hover:scale-110 transition-transform" aria-label="Email">
                        <img src="https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/gmail.svg" alt="Email" class="w-5 h-5 invert"/>
                    </a>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-700 text-center"><p class="text-gray-400 text-sm">© 2024 EroffProd. Все права защищены. Создаём AI-ассистентов для вашего бизнеса.</p></div>
        </div>
    </footer>

    <script>
        // Fade in animation on scroll
        const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
        const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); } }); }, observerOptions);
        document.querySelectorAll('.fade-in').forEach(el => { observer.observe(el); });

        // AI Assistants Data
        let assistants = {
            sales: { conversions: 47, leads: 156, deals: 23, revenue: 1.9, messages: [ { text: "Привет! Вижу заявку на сайт-визитку. Какой у вас бюджет?", time: "2 сек назад" }, { text: "Отлично! Рассчитал стоимость: 85,000₽ за полный пакет. Хотите посмотреть примеры работ?", time: "только что" }, { text: "Вижу, что вас интересует мобильная версия. Добавлю адаптивность в расчёт.", time: "1 мин назад" }, { text: "Готово! Итого: 95,000₽ с учётом всех пожеланий. Когда можем начать?", time: "30 сек назад" } ] },
            support: { satisfaction: 94, tickets: 89, time: 2.3, saved: 45, messages: [ { text: "Привет! Вижу, что у вас проблема с авторизацией. Проверяю ваш аккаунт...", time: "1 сек назад" }, { text: "Нашёл проблему! Отправил ссылку для сброса пароля на ваш email. Проверьте почту.", time: "только что" }, { text: "Вижу, что проблема решена! Есть ещё вопросы по системе?", time: "2 мин назад" }, { text: "Отлично! Оцените качество поддержки по 5-балльной шкале?", time: "1 мин назад" } ] },
            analytics: { insights: 127, reports: 34, predictions: 89, roi: 156, messages: [ { text: "Анализирую ваши продажи за неделю. Вижу аномалию в данных...", time: "3 сек назад" }, { text: "В четверг продажи упали на 23%. Причина: конкурент запустил акцию. Рекомендую ответную стратегию.", time: "только что" }, { text: "Создал прогноз на следующий месяц: +15% роста при текущих тенденциях.", time: "2 мин назад" }, { text: "Обнаружил новый сегмент клиентов с высоким потенциалом. Хотите детали?", time: "1 мин назад" } ] }
        };
        let currentMessageIndex = { sales: 0, support: 0, analytics: 0 };

        function updateLiveMetrics() {
            if (Math.random() > 0.7) { assistants.sales.conversions += 1; const el = document.getElementById('sales-bot-conversions'); if (el) { el.textContent = `+${assistants.sales.conversions}%`; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.8) { assistants.sales.leads += 1; const el = document.getElementById('sales-bot-leads'); if (el) { el.textContent = assistants.sales.leads; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.9) { assistants.sales.deals += 1; assistants.sales.revenue += Math.random() * 0.2; const el = document.getElementById('sales-bot-deals'); const rev = document.getElementById('sales-bot-revenue'); if (el) { el.textContent = assistants.sales.deals; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } if (rev) { rev.textContent = `₽${assistants.sales.revenue.toFixed(1)}М`; rev.classList.add('metric-counter'); setTimeout(() => rev.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.8) { assistants.support.tickets += 1; const el = document.getElementById('support-bot-tickets'); if (el) { el.textContent = assistants.support.tickets; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.7) { assistants.support.satisfaction += Math.random() > 0.5 ? 1 : -1; assistants.support.satisfaction = Math.max(90, Math.min(99, assistants.support.satisfaction)); const el = document.getElementById('support-bot-satisfaction'); if (el) { el.textContent = `${assistants.support.satisfaction}%`; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.8) { assistants.analytics.insights += 1; const el = document.getElementById('analytics-bot-insights'); if (el) { el.textContent = assistants.analytics.insights; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
            if (Math.random() > 0.9) { assistants.analytics.reports += 1; const el = document.getElementById('analytics-bot-reports'); if (el) { el.textContent = assistants.analytics.reports; el.classList.add('metric-counter'); setTimeout(() => el.classList.remove('metric-counter'), 500); } }
        }
        function addLiveChatMessage(botType) {
            const chat = document.getElementById(`${botType}-bot-chat`); if (!chat) return; const msgs = assistants[botType].messages; const m = msgs[currentMessageIndex[botType]]; const div = document.createElement('div'); div.className = 'flex items-start chat-message'; const color = botType === 'sales' ? 'neon-green' : botType === 'support' ? 'neon-blue' : 'neon-purple'; div.innerHTML = `<div class="w-8 h-8 bg-${color}/20 rounded-full flex items-center justify-center mr-3 mt-1"><span class="text-sm">AI</span></div><div class="bg-dark-700/50 rounded-lg p-4 max-w-md"><p class="text-white">${m.text}</p><div class="text-xs text-gray-400 mt-2">${m.time}</div></div>`; chat.appendChild(div); if (chat.children.length > 3) chat.removeChild(chat.firstChild); chat.scrollTop = chat.scrollHeight; currentMessageIndex[botType] = (currentMessageIndex[botType] + 1) % msgs.length;
        }
        function addActivityFeedItem(botType) {
            const feed = document.getElementById(`${botType}-activity`); if (!feed) return; const activities = { sales: [ { text: "Новая заявка на сайт", color: "neon-green" }, { text: "Рассчитал стоимость проекта", color: "neon-green" }, { text: "Отправил коммерческое предложение", color: "neon-green" }, { text: "Запланировал встречу с клиентом", color: "neon-green" }, { text: "Сегментировал лид по интересу", color: "neon-green" }, { text: "Проверил оплату счёта", color: "neon-green" } ], support: [ { text: "Решил проблему с доступом", color: "neon-blue" }, { text: "Отправил инструкцию", color: "neon-blue" }, { text: "Помог настроить систему", color: "neon-blue" }, { text: "Ответил на вопрос клиента", color: "neon-blue" }, { text: "Создал FAQ-статью", color: "neon-blue" }, { text: "Эскалировал сложный кейс", color: "neon-blue" } ], analytics: [ { text: "Обнаружил тренд роста", color: "neon-purple" }, { text: "Создал прогноз на месяц", color: "neon-purple" }, { text: "Выявил аномалию в данных", color: "neon-purple" }, { text: "Сгенерировал отчёт", color: "neon-purple" }, { text: "Нашёл корреляцию факторов", color: "neon-purple" }, { text: "Предложил A/B гипотезу", color: "neon-purple" } ] }; const a = activities[botType][Math.floor(Math.random() * activities[botType].length)]; const div = document.createElement('div'); div.className = 'flex items-center text-sm'; div.innerHTML = `
                <div class="w-2 h-2 bg-${a.color} rounded-full mr-3 animate-pulse"></div>
                <span class="text-gray-300">${a.text}</span>
                <span class="text-${a.color} ml-auto">+1</span>
            `; feed.insertBefore(div, feed.firstChild); if (feed.children.length > 6) feed.removeChild(feed.lastChild);
        }
        setInterval(updateLiveMetrics, 2000);
        setInterval(() => addLiveChatMessage('sales'), 4000);
        setInterval(() => addLiveChatMessage('support'), 4500);
        setInterval(() => addLiveChatMessage('analytics'), 5000);
        setInterval(() => addActivityFeedItem('sales'), 3000);
        setInterval(() => addActivityFeedItem('support'), 3500);
        setInterval(() => addActivityFeedItem('analytics'), 4000);

        // Dynamic improvements for cases and benefits
        const rnd = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
        const liveNodes = Array.from(document.querySelectorAll('[data-live]'));
        liveNodes.forEach(node => {
            const type = node.getAttribute('data-type'); // int|percent
            const dir = node.getAttribute('data-dir'); // up|down
            const step = parseInt(node.getAttribute('data-step') || '1', 10);
            const min = parseInt(node.getAttribute('data-min') || '0', 10);
            const max = parseInt(node.getAttribute('data-max') || '0', 10);
            const intMin = parseInt(node.getAttribute('data-int-min') || '3000', 10);
            const intMax = parseInt(node.getAttribute('data-int-max') || '6000', 10);
            let valueStr = (node.getAttribute('data-value') || node.textContent || '0').replace('%','');
            let value = parseInt(valueStr, 10) || 0;
            const render = () => {
                node.textContent = type === 'percent' ? `${value}%` : `${value}`;
                node.classList.add('metric-counter');
                setTimeout(() => node.classList.remove('metric-counter'), 500);
            };
            render();
            const tick = () => {
                if (dir === 'up') value = Math.min(value + step, max);
                if (dir === 'down') value = Math.max(value - step, min);
                render();
                setTimeout(tick, rnd(intMin, intMax));
            };
            setTimeout(tick, rnd(intMin, intMax));
        });

        document.querySelector('form')?.addEventListener('submit', function(e) { e.preventDefault(); alert('Спасибо! Мы свяжемся с вами в ближайшее время.'); });
        document.querySelectorAll('a[href^="#"]').forEach(anchor => { anchor.addEventListener('click', function (e) { e.preventDefault(); const target = document.querySelector(this.getAttribute('href')); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }); });

        // ROI Calculator
        const el = (id) => document.getElementById(id);
        const fmt = (n) => new Intl.NumberFormat('ru-RU').format(Math.round(n));
        const animateNum = (node, to, prefix = '', suffix = '') => {
            const from = parseFloat((node.textContent || '0').toString().replace(/[^0-9.-]/g,'')) || 0;
            const start = performance.now();
            const dur = 600;
            const step = (t) => {
                const p = Math.min((t - start) / dur, 1);
                const ease = 1 - Math.pow(1 - p, 3);
                const val = from + (to - from) * ease;
                node.textContent = `${prefix}${fmt(val)}${suffix}`;
                if (p < 1) requestAnimationFrame(step);
            };
            requestAnimationFrame(step);
        };
        function calcROI() {
            const leads = parseFloat(el('roi-leads')?.value || '0');
            const cr = parseFloat(el('roi-cr')?.value || '0') / 100; // базовая конверсия (0..1)
            const aov = parseFloat(el('roi-aov')?.value || '0');
            const tickets = parseFloat(el('roi-tickets')?.value || '0');
            const ticketCost = parseFloat(el('roi-ticket-cost')?.value || '0');

            // Обещания на сайте: +27% вовлечённость (условно прибавляем к CR), -40% нагрузка поддержки
            const promisedUplift = 0.27; // +27%
            const supportReduction = 0.40; // -40%

            const baseDeals = leads * cr;
            const extraDeals = baseDeals * promisedUplift;
            const extraRevenue = extraDeals * aov;
            const savedSupport = tickets * supportReduction * ticketCost;
            const total = extraRevenue + savedSupport;

            animateNum(el('roi-extra-revenue'), extraRevenue, '₽');
            animateNum(el('roi-support-saved'), savedSupport, '₽');
            animateNum(el('roi-total'), total, '₽');
            const engage = el('roi-engagement'); if (engage) engage.textContent = '+27%';
        }
        ['roi-leads','roi-cr','roi-aov','roi-tickets','roi-ticket-cost'].forEach(id => el(id)?.addEventListener('input', calcROI));
        calcROI();

        // ROI collapsible
        const roiToggle = document.getElementById('roi-toggle');
        const roiPanel = document.getElementById('roi-panel');
        const roiChevron = document.getElementById('roi-chevron');
        function setRoiOpen(isOpen) {
            if (!roiPanel) return;
            if (isOpen) {
                roiPanel.style.maxHeight = roiPanel.scrollHeight + 'px';
                roiPanel.style.opacity = '1';
                roiPanel.style.transform = 'translateY(0)';
                roiToggle?.setAttribute('aria-expanded', 'true');
                if (roiChevron) roiChevron.style.transform = 'rotate(180deg)';
                if (roiToggle) roiToggle.querySelector('span')?.classList.add('text-neon-green');
                if (roiToggle) roiToggle.firstChild && (roiToggle.firstChild.textContent = ' Скрыть калькулятор');
            } else {
                roiPanel.style.maxHeight = '0px';
                roiPanel.style.opacity = '0';
                roiPanel.style.transform = 'translateY(-8px)';
                roiToggle?.setAttribute('aria-expanded', 'false');
                if (roiChevron) roiChevron.style.transform = 'rotate(0)';
                if (roiToggle) roiToggle.firstChild && (roiToggle.firstChild.textContent = ' Открыть калькулятор');
            }
        }
        roiToggle?.addEventListener('click', () => {
            const open = roiToggle.getAttribute('aria-expanded') === 'true';
            setRoiOpen(!open);
            if (!open) calcROI();
        });

        // Network visualization
        (function(){
            const canvas = document.getElementById('network-canvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            let width, height, dpr;
            function resize(){
                dpr = window.devicePixelRatio || 1;
                width = canvas.clientWidth;
                height = canvas.clientHeight;
                canvas.width = Math.floor(width * dpr);
                canvas.height = Math.floor(height * dpr);
                ctx.setTransform(dpr,0,0,dpr,0,0);
            }
            resize();
            window.addEventListener('resize', resize);

            const aiEl = document.getElementById('ai-node');
            const sourceEls = Array.from(document.querySelectorAll('.source .node'));
            const sinkEls = Array.from(document.querySelectorAll('.sink .node'));
            const leftLinks = []; const rightLinks = [];
            function rectCenter(el){
                const r = el.getBoundingClientRect();
                const c = canvas.getBoundingClientRect();
                return { x: r.left - c.left + r.width/2, y: r.top - c.top + r.height/2 };
            }
            function rebuild(){
                leftLinks.length = 0; rightLinks.length = 0;
                const ai = rectCenter(aiEl);
                sourceEls.forEach((el) => { leftLinks.push({ from: rectCenter(el), to: ai, hue: 188 }); });
                sinkEls.forEach((el) => { rightLinks.push({ from: ai, to: rectCenter(el), hue: 28 }); });
            }
            rebuild();
            window.addEventListener('resize', () => setTimeout(rebuild, 50));

            const particles = [...leftLinks, ...rightLinks].map(() => ({ t: Math.random(), prevT: 0, v: 0.0025 + Math.random()*0.0025 }));
            const mouse = { x: 0, y: 0, active: false };
            canvas.addEventListener('mousemove', (e)=>{
                const r = canvas.getBoundingClientRect();
                mouse.x = e.clientX - r.left; mouse.y = e.clientY - r.top; mouse.active = true;
            });
            canvas.addEventListener('mouseleave', ()=>{ mouse.active = false; });

            function curve(a,b){
                const cp = { x: (a.x + b.x)/2, y: (a.y + b.y)/2 };
                const mx = mouse.active ? (mouse.x - cp.x) * 0.06 : 0;
                const my = mouse.active ? (mouse.y - cp.y) * 0.06 : 0;
                return { x: cp.x + mx, y: cp.y + my };
            }
            function drawSet(set){
                set.forEach((ln, idx) => {
                    const bend = curve(ln.from, ln.to);
                    const grad = ctx.createLinearGradient(ln.from.x, ln.from.y, ln.to.x, ln.to.y);
                    grad.addColorStop(0, `hsla(${ln.hue}, 90%, 60%, 0.9)`);
                    grad.addColorStop(1, 'rgba(255,255,255,0)');
                    ctx.lineWidth = 2;
                    ctx.strokeStyle = grad;
                    ctx.beginPath();
                    ctx.moveTo(ln.from.x, ln.from.y);
                    ctx.quadraticCurveTo(bend.x, bend.y, ln.to.x, ln.to.y);
                    ctx.stroke();
                });
            }
            const sinkCounters = {
                sheets: document.querySelector('#sink-sheets .sink-counter'),
                alerts: document.querySelector('#sink-alerts .sink-counter'),
                crm: document.querySelector('#sink-crm .sink-counter')
            };
            const sinkTargets = {
                sheets: () => rectCenter(document.querySelector('#sink-sheets .node')),
                alerts: () => rectCenter(document.querySelector('#sink-alerts .node')),
                crm: () => rectCenter(document.querySelector('#sink-crm .node'))
            };
            const sinkState = { sheets: 0, alerts: 0, crm: 0 };
            function drawParticles(set, offset){
                set.forEach((ln, i) => {
                    const bend = curve(ln.from, ln.to);
                    const p = particles[offset + i]; p.prevT = p.t; p.t += p.v; if (p.t > 1) p.t = 0;
                    const qx = (1-p.t)*(1-p.t)*ln.from.x + 2*(1-p.t)*p.t*bend.x + p.t*p.t*ln.to.x;
                    const qy = (1-p.t)*(1-p.t)*ln.from.y + 2*(1-p.t)*p.t*bend.y + p.t*p.t*ln.to.y;
                    ctx.fillStyle = `hsla(${ln.hue}, 100%, 70%, 0.9)`;
                    ctx.beginPath(); ctx.arc(qx, qy, 3, 0, Math.PI*2); ctx.fill();

                    // If this is a rightLink (particles after leftLinks), detect arrival near sinks
                    if (offset >= leftLinks.length) {
                        const idx = i; // index within rightLinks
                        // Map i to sink key by proximity to sink nodes
                        const keys = ['sheets','alerts','crm'];
                        const key = keys[Math.min(idx, keys.length-1)];
                        const target = sinkTargets[key]();
                        const dx = qx - target.x, dy = qy - target.y;
                        const dist2 = dx*dx + dy*dy;
                        // Increment once when crossing end-threshold and close to target
                        if (p.prevT <= 0.95 && p.t > 0.95 && dist2 < 400) {
                            sinkState[key] = Math.min(sinkState[key] + 1, 6);
                            const el = sinkCounters[key]; if (el) { el.textContent = String(sinkState[key]); el.classList.add('metric-counter'); setTimeout(()=>el.classList.remove('metric-counter'), 300); }
                        }
                    }
                });
            }
            function draw(){
                ctx.clearRect(0,0,width,height);
                drawSet(leftLinks); drawSet(rightLinks);
                drawParticles(leftLinks, 0);
                drawParticles(rightLinks, leftLinks.length);
                requestAnimationFrame(draw);
            }
            requestAnimationFrame(draw);

            // Interaction speeds
            [...sourceEls, ...sinkEls, aiEl].forEach((el, idx)=>{
                el.addEventListener('mouseenter', ()=>{ particles.forEach(p => p.v = Math.min(p.v*1.5, 0.01)); });
                el.addEventListener('mouseleave', ()=>{ particles.forEach(p => p.v = Math.max(p.v*0.75, 0.002)); });
            });

            Array.from(document.querySelectorAll('.channel-icon')).forEach(ic => {
                ic.style.filter = 'invert(1) sepia(0) saturate(0) hue-rotate(0deg) brightness(1)';
                ic.style.opacity = '0.95';
            });
        })();
    </script>
</body>
</html>
